# .pages.yml - å®Œæ•´é…ç½®ç¤ºä¾‹ï¼ˆå·²ä¿®å¤ "Add an entry" é”™è¯¯ï¼‰
# Pages CMS é…ç½®æ–‡ä»¶ï¼Œé‡‡ç”¨ä¸­æ–‡æ ‡ç­¾å’Œå¥å£®çš„é…ç½®

# ----------------------------------------------------------------------
# åª’ä½“æ–‡ä»¶é…ç½® (media)
# ----------------------------------------------------------------------
media:
  - name: images
    label: ğŸ–¼ï¸ ç½‘ç«™å›¾ç‰‡ (å…¨æ ¼å¼)
    input: src/images
    output: /images
    extensions: [jpg, jpeg, png, gif, svg, bmp, tif, tiff, webp, avif] 
    path: images/
    description: ä¸“ç”¨äºç½‘ç«™å†…å®¹å›¾ç‰‡çš„ä¸Šä¼ ï¼Œæ”¯æŒå¤šç§æ ¼å¼ã€‚

  - name: documents
    label: ğŸ“„ ç½‘ç«™æ–‡æ¡£ (å…¨æ ¼å¼)
    input: src/files
    output: /files
    categories: [document, video, audio, compressed]
    path: files/
    description: ç”¨äº PDFã€Wordã€è§†é¢‘ç­‰éå›¾ç‰‡æ–‡ä»¶çš„ä¸Šä¼ ã€‚

  - name: assets
    label: ğŸŒ é™æ€èµ„æº (å›¾æ ‡/Logo)
    input: public/assets
    output: /assets
    extensions: [svg, ico, webp, avif, png]
    description: ç”¨äºç½‘ç«™å›¾æ ‡ã€Logo ç­‰ç‰¹å®šé™æ€èµ„æºçš„ä¸Šä¼ ã€‚

# ----------------------------------------------------------------------
# å¯é‡ç”¨çš„ç»„ä»¶å®šä¹‰ (components)
# ----------------------------------------------------------------------
components:
  # SEOç»„ä»¶
  seo:
    label: ğŸ” SEO (æœç´¢å¼•æ“ä¼˜åŒ–) è®¾ç½®
    type: object
    fields:
      - name: title
        label: SEO æ ‡é¢˜ (Title Tag)
        type: string
        required: true
        description: ç”¨äºæœç´¢å¼•æ“ç»“æœé¡µ (SERP) å’Œæµè§ˆå™¨æ ‡ç­¾é¡µæ˜¾ç¤ºçš„æ ‡é¢˜ã€‚å»ºè®®é•¿åº¦ä¸è¶…è¿‡60å­—ç¬¦ã€‚
      - name: description
        label: å…ƒæè¿° (Meta Description)
        type: text
        description: é¡µé¢æè¿°ï¼Œç”¨äºæœç´¢å¼•æ“å’Œç¤¾äº¤åª’ä½“åˆ†äº«ã€‚å»ºè®®é•¿åº¦åœ¨120-155å­—ç¬¦ä¹‹é—´ã€‚
      - name: keywords
        label: å…³é”®è¯ (Keywords)
        type: string
        list: true
        description: é¡µé¢ç›¸å…³çš„å…³é”®è¯åˆ—è¡¨ã€‚
      - name: og_image
        label: ç¤¾äº¤åª’ä½“åˆ†äº«å›¾ (Open Graph Image)
        type: image
        description: åœ¨ç¤¾äº¤åª’ä½“åˆ†äº«æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡ã€‚

  # ä½œè€…ä¿¡æ¯ç»„ä»¶
  author:
    label: ğŸ§‘â€ğŸ’» ä½œè€…ä¿¡æ¯
    type: object
    fields:
      - name: name
        label: å§“å/æ˜µç§°
        type: string
        required: true
      - name: email
        label: é‚®ç®±åœ°å€
        type: string
        pattern:
          regex: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
          message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€'
        required: true
      - name: bio
        label: ä¸ªäººç®€ä»‹
        type: text
      - name: avatar
        label: å¤´åƒå›¾ç‰‡
        type: image

  # è‹±é›„åŒºåŸŸç»„ä»¶
  hero:
    label: âœ¨ è‹±é›„åŒºåŸŸ/ä¸»è§†è§‰åŒº
    type: object
    fields:
      - name: title
        label: ä¸»æ ‡é¢˜
        type: string
        required: true
      - name: subtitle
        label: å‰¯æ ‡é¢˜/å®£ä¼ è¯­
        type: text
      - name: background
        label: èƒŒæ™¯å›¾ç‰‡
        type: image
      - name: cta_text
        label: è¡ŒåŠ¨å·å¬æ–‡å­— (æŒ‰é’®)
        type: string
      - name: cta_link
        label: è¡ŒåŠ¨å·å¬é“¾æ¥ (URL)
        type: string
        pattern: 
          regex: '^(http|https|\/).*$'
          message: 'è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ URL (å¦‚ /about æˆ– https://...)'

# ----------------------------------------------------------------------
# å†…å®¹é…ç½® (content)
# ----------------------------------------------------------------------
content:
  # åšå®¢æ–‡ç« é›†åˆ
  - name: posts
    label: ğŸ“° åšå®¢æ–‡ç« 
    type: collection
    path: src/content/posts
    format: yaml-frontmatter
    # âœ… ä¿®å¤: ä½¿ç”¨ {primary} ç¡®ä¿åœ¨åˆ›å»ºæ—¶ title å­—æ®µå¯ä»¥è¢«è½¬æ¢ä¸º slug
    filename: '{year}-{month}-{day}-{primary}.md' 
    subfolders: false
    
    # è§†å›¾é…ç½®
    view:
      primary: title # primary å­—æ®µå¿…é¡»æ˜¯ title
      fields: [title, date, published, author.name, categories]
      sort: [date, title]
      search: [title, description, body, categories]
      default:
        sort: date
        order: desc
    
    # å­—æ®µå®šä¹‰
    fields:
      - name: title
        label: æ–‡ç« æ ‡é¢˜
        type: string
        required: true
        pattern: 
          regex: '^.{10,100}$'
          message: 'æ ‡é¢˜é•¿åº¦åº”åœ¨10-100ä¸ªå­—ç¬¦ä¹‹é—´'
      
      # âš ï¸ ç§»é™¤ slug å­—æ®µï¼šå› ä¸º filename å·²ç»ä½¿ç”¨ {primary} è‡ªåŠ¨ç”Ÿæˆ slugï¼Œä¸å†éœ€è¦æ‰‹åŠ¨ slug å­—æ®µæ¥é¿å…å†²çª
      # å¦‚æœä½ åšæŒè¦ slug å­—æ®µï¼Œè¯·å°†å…¶è®¾ç½®ä¸º hidden: true ä¸”æä¾› default: '{{uuid}}'

      - name: date
        label: å‘å¸ƒæ—¥æœŸ
        type: date
        required: true
        default: '{{now}}' # ç¡®ä¿æœ‰é»˜è®¤å€¼
      
      - name: updated
        label: æ›´æ–°æ—¥æœŸ
        type: date
      
      - name: published
        label: å‘å¸ƒçŠ¶æ€
        type: boolean
        default: false
      
      - name: featured
        label: ç²¾é€‰æ–‡ç«  (é¦–é¡µ/ç‰¹æ®Šå±•ç¤º)
        type: boolean
        default: false
      
      - name: categories
        label: æ–‡ç« åˆ†ç±»
        type: string
        list:
          min: 1
          max: 3
          collapsible: false
        options:
          suggestions: [æŠ€æœ¯å¼€å‘, äº§å“è®¾è®¡, å¸‚åœºè¿è¥, è¡Œä¸šæ–°é—», ç”Ÿæ´»éšç¬”]
      
      - name: tags
        label: æ–‡ç« æ ‡ç­¾ (Keywords)
        type: string
        list: true
        options:
          suggestions: [JavaScript, React, Vue, CSS, æ€§èƒ½ä¼˜åŒ–, ç”¨æˆ·ä½“éªŒ, SEO]
      
      - component: seo
      
      - name: cover
        label: å°é¢å›¾ç‰‡
        type: image
        options:
          media: images
      
      - name: excerpt
        label: æ‘˜è¦
        type: text
        description: 'æ–‡ç« æ‘˜è¦ï¼Œç”¨äºåˆ—è¡¨é¡µå’Œ SEO æè¿°ã€‚'
      
      - name: author
        component: author
      
      - name: body
        label: æ­£æ–‡å†…å®¹ (Markdown/å¯Œæ–‡æœ¬)
        type: rich-text
        required: true

  # é¡µé¢é›†åˆ (æ”¯æŒåµŒå¥—è·¯å¾„)
  - name: pages
    label: ğŸ“„ ç½‘ç«™é¡µé¢ (Page)
    type: collection
    path: src/content/pages
    format: yaml-frontmatter
    # âœ… ä¿®å¤: ä½¿ç”¨ {primary} é¿å…åˆ›å»ºæ—¶ {slug} å˜é‡ç¼ºå¤±
    filename: '{primary}.md' 
    
    view:
      layout: tree
      node:
        filename: index.md
        hideDirs: nodes
      fields: [title, path, published]
      primary: title
      sort: [title]
    
    fields:
      - name: title
        label: é¡µé¢æ ‡é¢˜
        type: string
        required: true
      
      - name: path
        label: é¡µé¢è·¯å¾„ (URL)
        type: string
        required: true
        pattern: 
          regex: '^\/[a-z0-9\/-]*$'
          message: 'è·¯å¾„å¿…é¡»ä»¥æ–œæ å¼€å¤´ï¼Œåªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦å’Œæ–œæ '
        description: 'ä¾‹å¦‚ï¼š/about, /products/detail, æˆ–æ ¹è·¯å¾„ /'
      
      - name: published
        label: å‘å¸ƒçŠ¶æ€ (æ˜¯å¦å¯è§)
        type: boolean
        default: true
      
      - component: seo
      
      - name: hero
        component: hero
      
      - name: sections
        label: çµæ´»å†…å®¹åŒºå—
        type: object
        list:
          collapsible:
            collapsed: true
            summary: "{type} - {title}"
        fields:
          - name: type
            label: åŒºå—ç±»å‹
            type: select
            required: true
            options:
              values:
                text: æ–‡æœ¬å†…å®¹
                image: å•å›¾å±•ç¤º
                cards: å¡ç‰‡åˆ—è¡¨
                cta: è¡ŒåŠ¨å·å¬
                testimonial: ç”¨æˆ·è¯„ä»·
          
          - name: title
            label: åŒºå—æ ‡é¢˜
            type: string
          
          - name: content
            label: å†…å®¹è¯¦æƒ…
            type: rich-text
          
          - name: image
            label: é…å›¾
            type: image
            options:
              media: images
          
          - name: buttons
            label: æŒ‰é’®åˆ—è¡¨
            type: object
            list: true
            fields:
              - name: text
                label: æŒ‰é’®æ–‡å­—
                type: string
              - name: link
                label: é“¾æ¥
                type: string
                pattern: 
                  regex: '^(http|https|\/).*$'
                  message: 'è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ URL'
      
      - name: body
        label: é¡µé¢ä¸»ä½“å†…å®¹ (ä½œä¸ºé»˜è®¤å†…å®¹)
        type: rich-text

  # äº§å“é›†åˆ (ç”µå•†/åˆ—è¡¨)
  - name: products
    label: ğŸ›ï¸ äº§å“åˆ—è¡¨
    type: collection
    path: src/content/products
    format: yaml-frontmatter
    # âœ… ä¿®å¤: æ˜¾å¼è®¾ç½® filename ä¸º {primary}.mdï¼Œé¿å…ä½¿ç”¨é»˜è®¤çš„æ—¥æœŸæ¨¡å¼
    filename: '{primary}.md'
    
    view:
      primary: name # primary å­—æ®µä¸º name
      fields: [name, price, category, featured, published]
      sort: [price, name]
      search: [name, description, features, category]
      default:
        sort: name
        order: asc
    
    fields:
      - name: name
        label: äº§å“åç§°
        type: string
        required: true
      
      - name: slug
        label: URL åˆ«å (Slug)
        type: string
        required: true
        description: 'ç”¨äºäº§å“è¯¦æƒ…é¡µ URL çš„å”¯ä¸€æ ‡è¯†ï¼Œè¯·ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ã€‚'
        pattern: 
          regex: '^[a-z0-9]+(?:-[a-z0-9]+)*$'
          message: 'åªèƒ½ä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦'
      
      - name: description
        label: äº§å“æè¿°
        type: text
        required: true
      
      - name: price
        label: å”®ä»· (RMB)
        type: number
        required: true
      
      - name: compare_price
        label: åŸä»·/åˆ’çº¿ä»· (RMB)
        type: number
      
      - name: category
        label: äº§å“åˆ†ç±»
        type: select
        required: true
        options:
          values:
            electronics: ğŸ“± ç”µå­äº§å“
            clothing: ğŸ‘• æœè£…é…é¥°
            books: ğŸ“š å›¾ä¹¦éŸ³åƒ
            home: ğŸ›‹ï¸ å®¶å±…ç”¨å“
      
      - name: featured
        label: æ¨èäº§å“ (é¦–é¡µå±•ç¤º)
        type: boolean
        default: false
      
      - name: published
        label: ä¸Šæ¶çŠ¶æ€ (æ˜¯å¦åœ¨å”®)
        type: boolean
        default: true
      
      - name: images
        label: äº§å“å›¾ç‰‡
        type: image
        list:
          min: 1
          max: 5
        options:
          media: images
      
      - name: features
        label: äº§å“ç‰¹æ€§/å–ç‚¹
        type: string
        list: true
      
      - name: specifications
        label: è§„æ ¼å‚æ•°
        type: object
        list:
          collapsible:
            collapsed: true
            summary: "{key}: {value}"
        fields:
          - name: key
            label: å‚æ•°å
            type: string
            required: true
          - name: value
            label: å‚æ•°å€¼
            type: string
            required: true
      
      - component: seo

  # ç½‘ç«™é…ç½®ï¼ˆå•æ–‡ä»¶ï¼‰
  - name: site_config
    label: âš™ï¸ å…¨å±€é…ç½®
    type: file
    path: src/data/site.yaml
    format: yaml
    
    fields:
      - name: site
        label: ç½‘ç«™åŸºç¡€ä¿¡æ¯
        type: object
        fields:
          - name: title
            label: ç½‘ç«™æ ‡é¢˜ (å…¨ç«™é€šç”¨)
            type: string
            required: true
          - name: description
            label: ç½‘ç«™æè¿° (å…¨ç«™é€šç”¨)
            type: text
          - name: logo
            label: ç½‘ç«™ Logo
            type: image
            options:
              media: assets
          - name: favicon
            label: ç½‘ç«™å›¾æ ‡ (Favicon)
            type: image
            options:
              media: assets
      
      - name: social
        label: ç¤¾äº¤åª’ä½“é“¾æ¥
        type: object
        list:
          collapsible: true
          summary: "{platform}"
        fields:
          - name: platform
            label: å¹³å°
            type: select
            required: true
            options:
              values:
                wechat: å¾®ä¿¡
                weibo: å¾®åš
                twitter: Twitter
                facebook: Facebook
                linkedin: LinkedIn
                github: GitHub
          - name: url
            label: é“¾æ¥åœ°å€ (URL)
            type: string
            required: true
      
      - name: contact
        label: è”ç³»ä¿¡æ¯
        type: object
        fields:
          - name: email
            label: é‚®ç®±
            type: string
          - name: phone
            label: ç”µè¯
            type: string
          - name: address
            label: åœ°å€
            type: text

  # å¯¼èˆªèœå•é…ç½®ï¼ˆå•æ–‡ä»¶ï¼‰
  - name: navigation
    label: ğŸ—ºï¸ å¯¼èˆªèœå•
    type: file
    path: src/data/navigation.yaml
    format: yaml
    
    fields:
      - name: header
        label: é¡¶éƒ¨ä¸»å¯¼èˆª
        type: object
        list:
          collapsible: true
          summary: "{label}"
        fields:
          - name: label
            label: èœå•æ–‡å­—
            type: string
            required: true
          - name: url
            label: é“¾æ¥åœ°å€
            type: string
            required: true
          - name: children
            label: å­èœå•/ä¸‹æ‹‰èœå•
            type: object
            list:
              collapsible: false
              summary: "{label}"
            fields:
              - name: label
                label: å­èœå•æ–‡å­—
                type: string
                required: true
              - name: url
                label: å­èœå•é“¾æ¥
                type: string
                required: true
      
      - name: footer
        label: åº•éƒ¨å¯¼èˆª (å¤šåˆ—)
        type: object
        list:
          collapsible: true
          summary: "{section}"
        fields:
          - name: section
            label: åŒºå—æ ‡é¢˜ (ä¾‹å¦‚: å…³äºæˆ‘ä»¬)
            type: string
          - name: links
            label: é“¾æ¥åˆ—è¡¨
            type: object
            list: true
            fields:
              - name: label
                label: é“¾æ¥æ–‡å­—
                type: string
              - name: url
                label: é“¾æ¥åœ°å€
                type: string

# ----------------------------------------------------------------------
# å…¨å±€è®¾ç½® (settings)
# ----------------------------------------------------------------------
settings:
  hide: false
  content:
    merge: true