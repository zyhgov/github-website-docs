# .pages.yml - å®Œæ•´é…ç½®ç¤ºä¾‹
# Pages CMS é…ç½®æ–‡ä»¶ï¼Œé‡‡ç”¨ä¸­æ–‡æ ‡ç­¾å’Œå¥å£®çš„é…ç½®

# ----------------------------------------------------------------------
# åª’ä½“æ–‡ä»¶é…ç½® (media)
# å®šä¹‰æ–‡ä»¶ä¸Šä¼ çš„æ–‡ä»¶å¤¹ï¼Œæ”¯æŒæ›´å¹¿æ³›çš„æ ¼å¼
# ----------------------------------------------------------------------
media:
  - name: images # å”¯ä¸€æœºå™¨å
    label: ğŸ–¼ï¸ ç½‘ç«™å›¾ç‰‡ (å…¨æ ¼å¼)
    input: src/images # ä»“åº“ä¸­çš„å›¾ç‰‡å­˜å‚¨è·¯å¾„
    output: /images # ç½‘ç«™çš„å…¬å…±è®¿é—®è·¯å¾„
    # å°½å¯èƒ½æ”¯æŒæ‰€æœ‰ä¸»æµå›¾ç‰‡æ ¼å¼ï¼ŒåŒ…æ‹¬ WebP å’Œ AVIF
    extensions: [jpg, jpeg, png, gif, svg, bmp, tif, tiff, webp, avif] 
    path: images/ # åª’ä½“æµè§ˆå™¨é»˜è®¤æ‰“å¼€çš„å­è·¯å¾„
    description: ä¸“ç”¨äºç½‘ç«™å†…å®¹å›¾ç‰‡çš„ä¸Šä¼ ï¼Œæ”¯æŒå¤šç§æ ¼å¼ã€‚

  - name: documents # å”¯ä¸€æœºå™¨å
    label: ğŸ“„ ç½‘ç«™æ–‡æ¡£ (å…¨æ ¼å¼)
    input: src/files # ä»“åº“ä¸­çš„æ–‡æ¡£å­˜å‚¨è·¯å¾„
    output: /files # ç½‘ç«™çš„å…¬å…±è®¿é—®è·¯å¾„
    # ä½¿ç”¨ç±»åˆ«ï¼Œä»¥æ”¯æŒæ‰€æœ‰å¸¸è§æ–‡æ¡£ç±»å‹
    categories: [document, video, audio, compressed] # æ‰©å±•æ”¯æŒæ–‡æ¡£ã€è§†é¢‘ã€éŸ³é¢‘å’Œå‹ç¼©æ–‡ä»¶
    path: files/
    description: ç”¨äº PDFã€Wordã€è§†é¢‘ç­‰éå›¾ç‰‡æ–‡ä»¶çš„ä¸Šä¼ ã€‚

  - name: assets # å”¯ä¸€æœºå™¨å
    label: ğŸŒ é™æ€èµ„æº (å›¾æ ‡/Logo)
    input: public/assets # ä»“åº“ä¸­çš„é™æ€èµ„æºè·¯å¾„
    output: /assets # ç½‘ç«™çš„å…¬å…±è®¿é—®è·¯å¾„
    # ç‰¹åˆ«é’ˆå¯¹å›¾æ ‡ã€Logo ç­‰å°å°ºå¯¸èµ„æº
    extensions: [svg, ico, webp, avif, png]
    description: ç”¨äºç½‘ç«™å›¾æ ‡ã€Logo ç­‰ç‰¹å®šé™æ€èµ„æºçš„ä¸Šä¼ ã€‚

# ----------------------------------------------------------------------
# å¯é‡ç”¨çš„ç»„ä»¶å®šä¹‰ (components)
# ----------------------------------------------------------------------
components:
  # SEOç»„ä»¶
  seo:
    label: ğŸ” SEO (æœç´¢å¼•æ“ä¼˜åŒ–) è®¾ç½®
    type: object
    fields:
      - name: title
        label: SEO æ ‡é¢˜ (Title Tag)
        type: string # ä¿®æ­£ä¸º string ä»¥é™åˆ¶ä¸€è¡Œ
        required: true
        description: ç”¨äºæœç´¢å¼•æ“ç»“æœé¡µ (SERP) å’Œæµè§ˆå™¨æ ‡ç­¾é¡µæ˜¾ç¤ºçš„æ ‡é¢˜ã€‚å»ºè®®é•¿åº¦ä¸è¶…è¿‡60å­—ç¬¦ã€‚
      - name: description
        label: å…ƒæè¿° (Meta Description)
        type: text
        description: é¡µé¢æè¿°ï¼Œç”¨äºæœç´¢å¼•æ“å’Œç¤¾äº¤åª’ä½“åˆ†äº«ã€‚å»ºè®®é•¿åº¦åœ¨120-155å­—ç¬¦ä¹‹é—´ã€‚
      - name: keywords
        label: å…³é”®è¯ (Keywords)
        type: string
        list: true
        description: é¡µé¢ç›¸å…³çš„å…³é”®è¯åˆ—è¡¨ï¼ˆå¯¹ç°ä»£SEOå½±å“è¾ƒå°ï¼Œä½†å¯ä¿ç•™ï¼‰ã€‚
      - name: og_image
        label: ç¤¾äº¤åª’ä½“åˆ†äº«å›¾ (Open Graph Image)
        type: image
        description: åœ¨ç¤¾äº¤åª’ä½“ï¼ˆå¦‚å¾®ä¿¡ã€Facebookï¼‰åˆ†äº«æ—¶æ˜¾ç¤ºçš„å›¾ç‰‡ã€‚å»ºè®®å°ºå¯¸ 1200x630 åƒç´ ã€‚

  # ä½œè€…ä¿¡æ¯ç»„ä»¶
  author:
    label: ğŸ§‘â€ğŸ’» ä½œè€…ä¿¡æ¯
    type: object
    fields:
      - name: name
        label: å§“å/æ˜µç§°
        type: string
        required: true
      - name: email
        label: é‚®ç®±åœ°å€
        type: string
        pattern:
          regex: '^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$'
          message: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€'
        required: true
      - name: bio
        label: ä¸ªäººç®€ä»‹
        type: text
      - name: avatar
        label: å¤´åƒå›¾ç‰‡
        type: image

  # è‹±é›„åŒºåŸŸç»„ä»¶
  hero:
    label: âœ¨ è‹±é›„åŒºåŸŸ/ä¸»è§†è§‰åŒº
    type: object
    fields:
      - name: title
        label: ä¸»æ ‡é¢˜
        type: string # ä¿®æ­£ä¸º string
        required: true
      - name: subtitle
        label: å‰¯æ ‡é¢˜/å®£ä¼ è¯­
        type: text
      - name: background
        label: èƒŒæ™¯å›¾ç‰‡
        type: image
      - name: cta_text
        label: è¡ŒåŠ¨å·å¬æ–‡å­— (æŒ‰é’®)
        type: string
      - name: cta_link
        label: è¡ŒåŠ¨å·å¬é“¾æ¥ (URL)
        type: string
        pattern: 
          regex: '^(http|https|\/).*$' # å…è®¸ http/https é“¾æ¥æˆ–å†…éƒ¨è·¯å¾„ /
          message: 'è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ URL (å¦‚ /about æˆ– https://...)'

# ----------------------------------------------------------------------
# å†…å®¹é…ç½® (content)
# ----------------------------------------------------------------------
content:
  # åšå®¢æ–‡ç« é›†åˆ
  - name: posts
    label: ğŸ“° åšå®¢æ–‡ç« 
    type: collection
    path: src/content/posts
    format: yaml-frontmatter
    # ä¿®æ­£ slug ä¸ºå˜é‡å¼•ç”¨ {slug}ï¼Œç¡®ä¿ä¸ä¸‹é¢çš„å­—æ®µåŒ¹é…
    filename: '{year}-{month}-{day}-{slug}.md' 
    subfolders: false
    
    # è§†å›¾é…ç½®
    view:
      layout: list
      fields: [title, date, published, author.name, categories]
      primary: title
      sort: [date, title]
      search: [title, description, body, categories] # æœç´¢èŒƒå›´åŠ å…¥ categories
      default:
        search: ''
        sort: date
        order: desc
    
    # å­—æ®µå®šä¹‰
    fields:
      - name: title
        label: æ–‡ç« æ ‡é¢˜
        type: string # ä¿®æ­£ä¸º string ä»¥é™åˆ¶å•è¡Œ
        required: true
        pattern: 
          regex: '^.{10,100}$'
          message: 'æ ‡é¢˜é•¿åº¦åº”åœ¨10-100ä¸ªå­—ç¬¦ä¹‹é—´'
      
      - name: slug
        label: URL åˆ«å (Slug)
        type: string
        required: true
        pattern: 
          regex: '^[a-z0-9]+(?:-[a-z0-9]+)*$'
          message: 'åªèƒ½ä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦ (ä¾‹å¦‚: my-new-post)'
      
      - name: date
        label: å‘å¸ƒæ—¥æœŸ
        type: date
        required: true
        default: '{{now}}' # ä¿®æ­£ä¸º Pages CMS æ”¯æŒçš„ {{now}} å ä½ç¬¦
      
      - name: updated
        label: æ›´æ–°æ—¥æœŸ
        type: date
      
      - name: published
        label: å‘å¸ƒçŠ¶æ€
        type: boolean
        default: false
      
      - name: featured
        label: ç²¾é€‰æ–‡ç«  (é¦–é¡µ/ç‰¹æ®Šå±•ç¤º)
        type: boolean
        default: false
      
      - name: categories
        label: æ–‡ç« åˆ†ç±»
        type: string
        list:
          min: 1
          max: 3
          collapsible: false
        options:
          suggestions: [æŠ€æœ¯å¼€å‘, äº§å“è®¾è®¡, å¸‚åœºè¿è¥, è¡Œä¸šæ–°é—», ç”Ÿæ´»éšç¬”] # ä¼˜åŒ–ä¸­æ–‡æç¤º
      
      - name: tags
        label: æ–‡ç« æ ‡ç­¾ (Keywords)
        type: string
        list: true
        options:
          suggestions: [JavaScript, React, Vue, CSS, æ€§èƒ½ä¼˜åŒ–, ç”¨æˆ·ä½“éªŒ, SEO]
      
      - component: seo # å¼•ç”¨ SEO ç»„ä»¶
      
      - name: cover
        label: å°é¢å›¾ç‰‡
        type: image
        options:
          media: images # é™åˆ¶ä» 'images' åª’ä½“æ–‡ä»¶å¤¹é€‰æ‹©
      
      - name: excerpt
        label: æ‘˜è¦
        type: text
        description: 'æ–‡ç« æ‘˜è¦ï¼Œç”¨äºåˆ—è¡¨é¡µå’Œ SEO æè¿°ã€‚'
      
      - name: author
        component: author # å¼•ç”¨ä½œè€…ç»„ä»¶
      
      - name: body
        label: æ­£æ–‡å†…å®¹ (Markdown/å¯Œæ–‡æœ¬)
        type: rich-text
        required: true

  # é¡µé¢é›†åˆ (æ”¯æŒåµŒå¥—è·¯å¾„)
  - name: pages
    label: ğŸ“„ ç½‘ç«™é¡µé¢ (Page)
    type: collection
    path: src/content/pages
    format: yaml-frontmatter
    filename: '{slug}.md'
    
    view:
      layout: tree # å¯ç”¨æ ‘çŠ¶è§†å›¾ï¼Œé€‚åˆå±‚çº§é¡µé¢
      node:
        filename: index.md # å…è®¸æ–‡ä»¶å¤¹å†…æœ‰ index.md ä½œä¸ºçˆ¶èŠ‚ç‚¹å†…å®¹
        hideDirs: nodes
      fields: [title, path, published]
      primary: title
      sort: [title]
    
    fields:
      - name: title
        label: é¡µé¢æ ‡é¢˜
        type: string
        required: true
      
      - name: path
        label: é¡µé¢è·¯å¾„ (URL)
        type: string
        required: true
        pattern: 
          regex: '^\/[a-z0-9\/-]*$'
          message: 'è·¯å¾„å¿…é¡»ä»¥æ–œæ å¼€å¤´ï¼Œåªèƒ½åŒ…å«å°å†™å­—æ¯ã€æ•°å­—ã€è¿å­—ç¬¦å’Œæ–œæ '
        description: 'ä¾‹å¦‚ï¼š/about, /products/detail, æˆ–æ ¹è·¯å¾„ /'
      
      - name: published
        label: å‘å¸ƒçŠ¶æ€ (æ˜¯å¦å¯è§)
        type: boolean
        default: true
      
      - component: seo
      
      - name: hero
        component: hero
      
      - name: sections
        label: çµæ´»å†…å®¹åŒºå—
        type: object
        list:
          collapsible:
            collapsed: true # é»˜è®¤æŠ˜å ï¼ŒèŠ‚çœç©ºé—´
            summary: "{type} - {title}"
        fields:
          - name: type
            label: åŒºå—ç±»å‹
            type: select
            required: true
            options:
              values:
                text: æ–‡æœ¬å†…å®¹
                image: å•å›¾å±•ç¤º
                cards: å¡ç‰‡åˆ—è¡¨
                cta: è¡ŒåŠ¨å·å¬
                testimonial: ç”¨æˆ·è¯„ä»·
          
          - name: title
            label: åŒºå—æ ‡é¢˜
            type: string
          
          - name: content
            label: å†…å®¹è¯¦æƒ…
            type: rich-text
          
          - name: image
            label: é…å›¾
            type: image
            options:
              media: images
          
          - name: buttons
            label: æŒ‰é’®åˆ—è¡¨
            type: object
            list: true
            fields:
              - name: text
                label: æŒ‰é’®æ–‡å­—
                type: string
              - name: link
                label: é“¾æ¥
                type: string
                pattern: 
                  regex: '^(http|https|\/).*$'
                  message: 'è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„ URL'
      
      - name: body
        label: é¡µé¢ä¸»ä½“å†…å®¹ (ä½œä¸ºé»˜è®¤å†…å®¹)
        type: rich-text

  # äº§å“é›†åˆ (ç”µå•†/åˆ—è¡¨)
  - name: products
    label: ğŸ›ï¸ äº§å“åˆ—è¡¨
    type: collection
    path: src/content/products
    format: yaml-frontmatter
    filename: '{slug}.md' # å‡è®¾æ–‡ä»¶ååŸºäº slug
    
    view:
      fields: [name, price, category, featured, published]
      primary: name
      sort: [price, name]
      search: [name, description, features, category] # å¢åŠ  category æœç´¢
      default:
        sort: name
        order: asc
    
    fields:
      - name: name
        label: äº§å“åç§°
        type: string
        required: true
      
      - name: slug
        label: URL åˆ«å (Slug)
        type: string
        required: true
        pattern: 
          regex: '^[a-z0-9]+(?:-[a-z0-9]+)*$'
          message: 'åªèƒ½ä½¿ç”¨å°å†™å­—æ¯ã€æ•°å­—å’Œè¿å­—ç¬¦'
      
      - name: description
        label: äº§å“æè¿°
        type: text
        required: true
      
      - name: price
        label: å”®ä»· (RMB)
        type: number
        required: true
      
      - name: compare_price
        label: åŸä»·/åˆ’çº¿ä»· (RMB)
        type: number
      
      - name: category
        label: äº§å“åˆ†ç±»
        type: select
        required: true
        options:
          values: # ä½¿ç”¨é”®å€¼å¯¹ï¼Œé”®ç”¨äºä»£ç ï¼Œå€¼ç”¨äº CMS æ˜¾ç¤º
            electronics: ğŸ“± ç”µå­äº§å“
            clothing: ğŸ‘• æœè£…é…é¥°
            books: ğŸ“š å›¾ä¹¦éŸ³åƒ
            home: ğŸ›‹ï¸ å®¶å±…ç”¨å“
      
      - name: featured
        label: æ¨èäº§å“ (é¦–é¡µå±•ç¤º)
        type: boolean
        default: false
      
      - name: published
        label: ä¸Šæ¶çŠ¶æ€ (æ˜¯å¦åœ¨å”®)
        type: boolean
        default: true
      
      - name: images
        label: äº§å“å›¾ç‰‡
        type: image
        list:
          min: 1
          max: 5
          collapsible: true
        options:
          media: images # é™åˆ¶ä» 'images' åª’ä½“æ–‡ä»¶å¤¹é€‰æ‹©
      
      - name: features
        label: äº§å“ç‰¹æ€§/å–ç‚¹
        type: string
        list: true
        description: äº§å“çš„æ ¸å¿ƒå–ç‚¹ï¼Œæ¯è¡Œä¸€ä¸ªã€‚
      
      - name: specifications
        label: è§„æ ¼å‚æ•°
        type: object
        list:
          collapsible:
            collapsed: true
            summary: "{key}: {value}" # åˆ—è¡¨æ¦‚è§ˆæ˜¾ç¤ºå‚æ•°åå’Œå€¼
        fields:
          - name: key
            label: å‚æ•°å
            type: string
            required: true
          - name: value
            label: å‚æ•°å€¼
            type: string
            required: true
      
      - component: seo

  # ç½‘ç«™é…ç½®ï¼ˆå•æ–‡ä»¶ï¼‰
  - name: site_config
    label: âš™ï¸ å…¨å±€é…ç½®
    type: file
    path: src/data/site.yaml
    format: yaml # ä¿®æ­£ï¼šç¡®ä¿æ ¼å¼æ­£ç¡® (å¯ä»¥æ˜¯ yaml, json, toml ç­‰)
    
    fields:
      - name: site
        label: ç½‘ç«™åŸºç¡€ä¿¡æ¯
        type: object
        fields:
          - name: title
            label: ç½‘ç«™æ ‡é¢˜ (å…¨ç«™é€šç”¨)
            type: string
            required: true
          - name: description
            label: ç½‘ç«™æè¿° (å…¨ç«™é€šç”¨)
            type: text
          - name: logo
            label: ç½‘ç«™ Logo
            type: image
            options:
              media: assets # é™åˆ¶ä» 'assets' åª’ä½“æ–‡ä»¶å¤¹é€‰æ‹©
          - name: favicon
            label: ç½‘ç«™å›¾æ ‡ (Favicon)
            type: image
            options:
              media: assets
      
      - name: social
        label: ç¤¾äº¤åª’ä½“é“¾æ¥
        type: object
        list:
          collapsible: true
          summary: "{platform}"
        fields:
          - name: platform
            label: å¹³å°
            type: select
            required: true
            options:
              values:
                wechat: å¾®ä¿¡
                weibo: å¾®åš
                twitter: Twitter
                facebook: Facebook
                linkedin: LinkedIn
                github: GitHub
          - name: url
            label: é“¾æ¥åœ°å€ (URL)
            type: string
            required: true
      
      - name: contact
        label: è”ç³»ä¿¡æ¯
        type: object
        fields:
          - name: email
            label: é‚®ç®±
            type: string
          - name: phone
            label: ç”µè¯
            type: string
          - name: address
            label: åœ°å€
            type: text

  # å¯¼èˆªèœå•é…ç½®ï¼ˆå•æ–‡ä»¶ï¼‰
  - name: navigation
    label: ğŸ—ºï¸ å¯¼èˆªèœå•
    type: file
    path: src/data/navigation.yaml
    format: yaml # ä¿®æ­£ï¼šç¡®ä¿æ ¼å¼æ­£ç¡®
    
    fields:
      - name: header
        label: é¡¶éƒ¨ä¸»å¯¼èˆª
        type: object
        list:
          collapsible: true
          summary: "{label}"
        fields:
          - name: label
            label: èœå•æ–‡å­—
            type: string
            required: true
          - name: url
            label: é“¾æ¥åœ°å€
            type: string
            required: true
          - name: children
            label: å­èœå•/ä¸‹æ‹‰èœå•
            type: object
            list:
              collapsible: false
              summary: "{label}"
            fields:
              - name: label
                label: å­èœå•æ–‡å­—
                type: string
                required: true
              - name: url
                label: å­èœå•é“¾æ¥
                type: string
                required: true
      
      - name: footer
        label: åº•éƒ¨å¯¼èˆª (å¤šåˆ—)
        type: object
        list:
          collapsible: true
          summary: "{section}"
        fields:
          - name: section
            label: åŒºå—æ ‡é¢˜ (ä¾‹å¦‚: å…³äºæˆ‘ä»¬)
            type: string
          - name: links
            label: é“¾æ¥åˆ—è¡¨
            type: object
            list: true
            fields:
              - name: label
                label: é“¾æ¥æ–‡å­—
                type: string
              - name: url
                label: é“¾æ¥åœ°å€
                type: string

# ----------------------------------------------------------------------
# å…¨å±€è®¾ç½® (settings)
# ----------------------------------------------------------------------
settings:
  hide: false # æ˜¯å¦åœ¨ CMS ç•Œé¢æ˜¾ç¤ºâ€œè®¾ç½®â€å…¥å£
  content:
    merge: true # å¯ç”¨å†…å®¹åˆå¹¶ï¼šåªæ›´æ–°è¡¨å•æäº¤çš„å­—æ®µï¼Œä¿ç•™æ–‡ä»¶ä¸­æœªåœ¨é…ç½®ä¸­å®šä¹‰çš„å…¶ä»–å­—æ®µã€‚